
<div class="container">

  <h4>{{ userId ? 'Edit User' : 'New User' }}</h4>
  <form class="form-group" [formGroup]="form" (ngSubmit)="onAdd()">
    <div class="mb-3">
      <label class="form-label">Username</label>
      <input type="text" class="form-control" formControlName="username">
    </div>
    <div class="mb-3">
      <label class="form-label">Email address</label>
      <input type="email" class="form-control" formControlName="email">
    </div>
    @if(!userId){
      <div class="mb-3">
        <label class="form-label">Password</label>
        <input type="password" class="form-control" formControlName="password">
      </div>
    }
    <div formGroupName="roles">
      <label class="form-label">Roles</label>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" value="admin" formControlName="admin">
        <label class="form-check-label">Admin</label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" value="seller" formControlName="seller">
        <label class="form-check-label">Seller</label>
      </div>
      <div class="form-check mb-3">
        <input class="form-check-input" type="checkbox" value="client" formControlName="client">
        <label class="form-check-label">Client</label>
      </div>
    </div>
    <!-- <select class="form-select mb-3">
      <option selected>{{ form.value.role }}</option>
      @for(role of roles(); track role; let idx = $index) {
        <option value="{{role}}">{{role}}</option>
      }
    </select> -->

    <div class="mb-3">
      <label class="form-label">Imagem</label>
      <input type="text" class="form-control" formControlName="image" placeholder="URL da Imagem">
    </div>

    <div formGroupName="address">
      <div class="mb-3">
        <label class="form-label">Street</label>
        <input type="text" class="form-control" formControlName="street">
      </div>
      <div class="mb-3">
        <label class="form-label">City</label>
        <input type="text" class="form-control" formControlName="city">
      </div>
      <div class="mb-3">
        <label class="form-label">Country</label>
        <input type="text" class="form-control" formControlName="country">
      </div>
    </div>
    @if (userId != null) {
      <button type="submit" class="btn btn-dark" (click)="onUpdate()">Update</button>
    }
    @else {
      <button type="submit" class="btn btn-dark" (click)="onAdd()">Submit</button>
    }

  </form>

</div>
